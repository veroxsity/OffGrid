---
title: "Dynamic DNS with DuckDNS (Linux)"
description: "Free dynamic DNS to keep a hostname updated with your changing IP."
category: "Networking"
difficulty: "Beginner"
time: "10 minutes"
ukSpecific: true
status: "published"
tags: ["ddns","duckdns","dynamic-dns","uk-isp"]
author: "Off-Grid Freedom"
lastUpdated: "2025-08-13"
testedOn: ["Ubuntu 24.04", "Debian 12"]
---

# Dynamic DNS with DuckDNS (Linux)

Keep a stable hostname even when your UK ISP changes your IP.

> TL;DR: Create a DuckDNS subdomain and token, install a tiny updater script, schedule with a systemd timer every 5 minutes, and verify logs in journalctl.

## Before you begin
- Sign up at duckdns.org and create a subdomain + token
- If on IPv6, decide whether to publish AAAA records

## Script + systemd timer

```bash
sudo mkdir -p /opt/duckdns
sudo tee /opt/duckdns/update.sh >/dev/null <<'SH'
#!/usr/bin/env bash
set -euo pipefail
DOMAIN="your-subdomain"
TOKEN="your-token"
IPV6="false" # set true if you want AAAA updates
curl -s "https://www.duckdns.org/update?domains=$DOMAIN&token=$TOKEN&ip=&ipv6=$IPV6" | tee -a /opt/duckdns/duck.log
SH

sudo chmod +x /opt/duckdns/update.sh
```

What this does: Calls DuckDNS update endpoint and appends response to a log file.

Timer units:

```bash
sudo tee /etc/systemd/system/duckdns.service >/dev/null <<'UNIT'
[Unit]
Description=DuckDNS Updater

[Service]
Type=oneshot
ExecStart=/opt/duckdns/update.sh
UNIT

sudo tee /etc/systemd/system/duckdns.timer >/dev/null <<'UNIT'
[Unit]
Description=Run DuckDNS updater every 5 minutes

[Timer]
OnBootSec=2min
OnUnitActiveSec=5min
Unit=duckdns.service

[Install]
WantedBy=timers.target
UNIT

sudo systemctl enable --now duckdns.timer
```

## Verification

```bash
systemctl status duckdns.timer --no-pager
journalctl -u duckdns.service -n 5 --no-pager
```

Expected: Recent successful updates; DuckDNS responds with `OK`.

## Troubleshooting
- Response not OK
  - Verify DOMAIN and TOKEN; test with a manual curl.
- Timer not running
  - Check `systemctl list-timers`; ensure the timer is enabled.
- IPv6 not updating
  - Set `IPV6=true` and ensure the host has a global IPv6 address.

## Security hardening checklist
- Store `TOKEN` in a root-only file and source it from the script instead of hardcoding
- Use minimal permissions on `/opt/duckdns` (root:root, 0750)
- Limit update frequency to avoid rate-limits

## Uninstall / rollback
```bash
sudo systemctl disable --now duckdns.timer
sudo rm -f /etc/systemd/system/duckdns.{service,timer}
sudo systemctl daemon-reload
sudo rm -rf /opt/duckdns
```

## FAQ
- Q: Can I update multiple domains?
  - A: Yes; pass a comma-separated list to the `domains` parameter.
- Q: Can I run this in Docker?
  - A: You can, but a native systemd timer is simpler and lighter.

## References
- DuckDNS docs: https://www.duckdns.org/spec.jsp

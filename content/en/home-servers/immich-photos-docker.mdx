---
title: "Immich (Self-hosted Photos) with Docker"
description: "Run Immich for private photo backup and AI search (optional GPU)."
category: "Home Servers"
difficulty: "Advanced"
time: "40 minutes"
ukSpecific: false
status: "published"
tags: ["immich","photos","ai","docker","gpu"]
author: "Off-Grid Freedom"
lastUpdated: "2025-08-13"
---

# Immich (Self-hosted Photos) with Docker

Includes PostgreSQL and Redis dependencies.

> TL;DR: Deploy Postgres (with vectors), Redis, and Immich server; mount your photos to `upload`, set strong DB credentials, proxy with TLS, and back up DB + media.

## Compose

```yaml
services:
  postgres:
    image: tensorchord/pgvecto-rs:pg16
    container_name: immich-postgres
    environment:
      POSTGRES_PASSWORD: change-me
      POSTGRES_DB: immich
    volumes:
      - ./pg:/var/lib/postgresql/data
    restart: unless-stopped

  redis:
    image: redis:7-alpine
    container_name: immich-redis
    restart: unless-stopped

  immich-server:
    image: ghcr.io/immich-app/immich-server:release
    container_name: immich
    environment:
      DB_HOSTNAME: postgres
      DB_USERNAME: postgres
      DB_PASSWORD: change-me
      DB_DATABASE_NAME: immich
      REDIS_HOSTNAME: redis
    volumes:
      - ./photos:/usr/src/app/upload
    ports:
      - "2283:2283"
    depends_on:
      - postgres
      - redis
    restart: unless-stopped
```

## Verification
- Open `http://SERVER_IP:2283` and create the admin user
- Upload a few photos; confirm face/object search works after indexing

## Backups
```bash
# DB dump and media archive
docker exec immich-postgres pg_dump -U postgres immich | gzip > backups/immich-db-$(date +%F).sql.gz
sudo tar -czf backups/immich-photos-$(date +%F).tgz ./photos
```

## Troubleshooting
- 502 or app not loading
  - Ensure all containers are healthy; check logs for DB connectivity
- Poor AI performance
  - Consider GPU-enabled deployments (see Immich docs) or increase resources

## Security hardening checklist
- Proxy with HTTPS and set a strong admin password
- Restrict external access; prefer VPN for uploads
- Regularly prune failed jobs and monitor disk usage

## Uninstall / cleanup
```bash
docker compose down
rm -rf ./pg ./photos
```

## References
- Immich docs: https://immich.app/docs/
